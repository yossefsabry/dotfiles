#!/bin/bash


# 2. Start Picom (Compositor)
# FIXED: Removed '--no-fading' which caused the crash.
# Added '--backend glx' to fix the backend error.
if ! pgrep -x "picom" > /dev/null; then
    # We run picom with a null config to use defaults, but force the GLX backend
    picom -b --backend glx --config /dev/null
fi

# 3. Kill existing screenkey instances
pkill screenkey &>/dev/null

# 4. Run screenkey
# Settings: Large size, fixed position at bottom, white text, transparent background
screenkey \
    --scr 0 \
    -s large \
    -p fixed \
    -g 780x150-1-870 \
    --font-color white \
    --bg-color "#191724" \
    --opacity 0.5 &
